<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="590px" preserveAspectRatio="none" style="width:1237px;height:590px;background:#FFFFFF;" version="1.1" viewBox="0 0 1237 590" width="1237px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="26.2969" id="_title" style="stroke:none;stroke-width:1.0;" width="422" x="400.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="412" x="405.5" y="22.9951">Ballerina API Builder Platform - Architecture Diagram</text><!--MD5=[43e4c105df3c267f68b8246050a021de]
cluster Client Layer (Browser)\n--><g id="cluster_Client Layer (Browser)\n"><path d="M628.5,51.7969 L807.5,51.7969 A3.75,3.75 0 0 1 810,54.2969 L817,90.3906 L1227.5,90.3906 A2.5,2.5 0 0 1 1230,92.8906 L1230,181.2969 A2.5,2.5 0 0 1 1227.5,183.7969 L628.5,183.7969 A2.5,2.5 0 0 1 626,181.2969 L626,54.2969 A2.5,2.5 0 0 1 628.5,51.7969 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="626" x2="817" y1="90.3906" y2="90.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="178" x="630" y="66.792">Client Layer (Browser)</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="5" x="716.5" y="83.0889"> </text></g><!--MD5=[d2242131270c237e071fd8738247fbb8]
cluster FE--><g id="cluster_FE"><rect fill="#F9F9F9" height="81" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:1.0;" width="588" x="634" y="94.7969"/><rect fill="#F9F9F9" height="10" style="stroke:#666666;stroke-width:1.0;" width="15" x="1202" y="99.7969"/><rect fill="#F9F9F9" height="2" style="stroke:#666666;stroke-width:1.0;" width="4" x="1200" y="101.7969"/><rect fill="#F9F9F9" height="2" style="stroke:#666666;stroke-width:1.0;" width="4" x="1200" y="105.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="186" x="835" y="120.792">Frontend (React + Vite)</text></g><!--MD5=[95bb9f6f3a43242d7b10555d3886f467]
cluster Application Layer (Ballerina Backend)--><g id="cluster_Application Layer (Ballerina Backend)"><path d="M264.5,43.2969 L557.5,43.2969 A3.75,3.75 0 0 1 560,45.7969 L567,65.5938 L615.5,65.5938 A2.5,2.5 0 0 1 618,68.0938 L618,329.2969 A2.5,2.5 0 0 1 615.5,331.7969 L264.5,331.7969 A2.5,2.5 0 0 1 262,329.2969 L262,45.7969 A2.5,2.5 0 0 1 264.5,43.2969 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="262" x2="567" y1="65.5938" y2="65.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="292" x="266" y="58.292">Application Layer (Ballerina Backend)</text></g><!--MD5=[43a3fb635c12febb4cb7028741c09213]
cluster BE--><g id="cluster_BE"><rect fill="#F9F9F9" height="253.5" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:1.0;" width="340" x="270" y="70.2969"/><rect fill="#F9F9F9" height="10" style="stroke:#666666;stroke-width:1.0;" width="15" x="590" y="75.2969"/><rect fill="#F9F9F9" height="2" style="stroke:#666666;stroke-width:1.0;" width="4" x="588" y="77.2969"/><rect fill="#F9F9F9" height="2" style="stroke:#666666;stroke-width:1.0;" width="4" x="588" y="81.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="131" x="374.5" y="96.292">Ballerina Service</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="5" x="437.5" y="112.5889"> </text></g><!--MD5=[2f9a0c66503bbea854a6bd0ea54a5f11]
cluster Security & Auth--><g id="cluster_Security &amp; Auth"><path d="M910.5,234.2969 L1036.5,234.2969 A3.75,3.75 0 0 1 1039,236.7969 L1046,256.5938 L1091.5,256.5938 A2.5,2.5 0 0 1 1094,259.0938 L1094,329.7969 A2.5,2.5 0 0 1 1091.5,332.2969 L910.5,332.2969 A2.5,2.5 0 0 1 908,329.7969 L908,236.7969 A2.5,2.5 0 0 1 910.5,234.2969 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="908" x2="1046" y1="256.5938" y2="256.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="125" x="912" y="249.292">Security &amp; Auth</text></g><!--MD5=[2ab3fffbcd341c33602284e46c4199aa]
cluster Data Access Layer--><g id="cluster_Data Access Layer"><path d="M628.5,234.2969 L775.5,234.2969 A3.75,3.75 0 0 1 778,236.7969 L785,256.5938 L897.5,256.5938 A2.5,2.5 0 0 1 900,259.0938 L900,329.7969 A2.5,2.5 0 0 1 897.5,332.2969 L628.5,332.2969 A2.5,2.5 0 0 1 626,329.7969 L626,236.7969 A2.5,2.5 0 0 1 628.5,234.2969 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="626" x2="785" y1="256.5938" y2="256.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="146" x="630" y="249.292">Data Access Layer</text></g><!--MD5=[07cae965747ee1c7bffd7fd64e75133c]
cluster Storage Layer--><g id="cluster_Storage Layer"><path d="M588.5,367.2969 L700.5,367.2969 A3.75,3.75 0 0 1 703,369.7969 L710,389.5938 L937.5,389.5938 A2.5,2.5 0 0 1 940,392.0938 L940,528.7969 A2.5,2.5 0 0 1 937.5,531.2969 L588.5,531.2969 A2.5,2.5 0 0 1 586,528.7969 L586,369.7969 A2.5,2.5 0 0 1 588.5,367.2969 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="586" x2="710" y1="389.5938" y2="389.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="111" x="590" y="382.292">Storage Layer</text></g><!--MD5=[e169ac431914a6adb8cf110c9da1459f]
cluster DB--><g id="cluster_DB"><path d="M594,404.2969 C594,394.2969 763,394.2969 763,394.2969 C763,394.2969 932,394.2969 932,404.2969 L932,513.2969 C932,523.2969 763,523.2969 763,523.2969 C763,523.2969 594,523.2969 594,513.2969 L594,404.2969 " fill="#FFF5E6" style="stroke:#FF8C00;stroke-width:1.0;"/><path d="M594,404.2969 C594,414.2969 763,414.2969 763,414.2969 C763,414.2969 932,414.2969 932,404.2969 " fill="none" style="stroke:#FF8C00;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="119" x="703.5" y="429.292">PostgreSQL DB</text></g><g id="elem_GMN342"><path d="M6,272.7969 L6,313.0625 L254,313.0625 L254,282.7969 L244,272.7969 L6,272.7969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M244,272.7969 L244,282.7969 L254,282.7969 L244,272.7969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227" x="12" y="289.8638">Authentication handled by Asgardio</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="12" y="304.9966">Only user email saved in DB</text></g><g id="elem_GMN345"><path d="M612,558.2969 L612,583.4297 L914,583.4297 L914,568.2969 L904,558.2969 L612,558.2969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M904,558.2969 L904,568.2969 L914,568.2969 L904,558.2969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="281" x="618" y="575.3638">JSON column stores visual API builder layout</text></g><!--MD5=[7af591dbf26aa1b23fc2f1d1f8532d2f]
entity FE_AUTH--><g id="elem_FE_AUTH"><rect fill="#F9F9F9" height="46.2969" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="195" x="1018.5" y="121.7969"/><rect fill="#F9F9F9" height="10" style="stroke:#666666;stroke-width:0.5;" width="15" x="1193.5" y="126.7969"/><rect fill="#F9F9F9" height="2" style="stroke:#666666;stroke-width:0.5;" width="4" x="1191.5" y="128.7969"/><rect fill="#F9F9F9" height="2" style="stroke:#666666;stroke-width:0.5;" width="4" x="1191.5" y="132.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="1033.5" y="154.792">Authentication Module</text></g><!--MD5=[88c43b84efb0cd20b956148064116354]
entity FE_PM--><g id="elem_FE_PM"><rect fill="#F9F9F9" height="46.2969" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="183" x="817.5" y="121.7969"/><rect fill="#F9F9F9" height="10" style="stroke:#666666;stroke-width:0.5;" width="15" x="980.5" y="126.7969"/><rect fill="#F9F9F9" height="2" style="stroke:#666666;stroke-width:0.5;" width="4" x="978.5" y="128.7969"/><rect fill="#F9F9F9" height="2" style="stroke:#666666;stroke-width:0.5;" width="4" x="978.5" y="132.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="832.5" y="154.792">Project Management</text></g><!--MD5=[b393c55baecc185b269a27ca998891b0]
entity FE_API--><g id="elem_FE_API"><rect fill="#F9F9F9" height="46.2969" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="157" x="642.5" y="121.7969"/><rect fill="#F9F9F9" height="10" style="stroke:#666666;stroke-width:0.5;" width="15" x="779.5" y="126.7969"/><rect fill="#F9F9F9" height="2" style="stroke:#666666;stroke-width:0.5;" width="4" x="777.5" y="128.7969"/><rect fill="#F9F9F9" height="2" style="stroke:#666666;stroke-width:0.5;" width="4" x="777.5" y="132.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="657.5" y="154.792">Visual API Builder</text></g><!--MD5=[9fd017954277e010239d7b98c1cb1ecf]
entity BE_API--><g id="elem_BE_API"><rect fill="#F9F9F9" height="62.5938" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="143" x="458.5" y="113.2969"/><rect fill="#F9F9F9" height="10" style="stroke:#666666;stroke-width:0.5;" width="15" x="581.5" y="118.2969"/><rect fill="#F9F9F9" height="2" style="stroke:#666666;stroke-width:0.5;" width="4" x="579.5" y="120.2969"/><rect fill="#F9F9F9" height="2" style="stroke:#666666;stroke-width:0.5;" width="4" x="579.5" y="124.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="473.5" y="146.292">HTTP REST API</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="473.5" y="162.5889">/api/projects</text></g><!--MD5=[b9dd12d7e62b8690a27f0d5987a65fe5]
entity BE_CORS--><g id="elem_BE_CORS"><rect fill="#F9F9F9" height="46.2969" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="162" x="278" y="121.7969"/><rect fill="#F9F9F9" height="10" style="stroke:#666666;stroke-width:0.5;" width="15" x="420" y="126.7969"/><rect fill="#F9F9F9" height="2" style="stroke:#666666;stroke-width:0.5;" width="4" x="418" y="128.7969"/><rect fill="#F9F9F9" height="2" style="stroke:#666666;stroke-width:0.5;" width="4" x="418" y="132.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="293" y="154.792">CORS Middleware</text></g><!--MD5=[464e48dad09a71387ce30738f134d1f0]
entity BE_ERR--><g id="elem_BE_ERR"><rect fill="#F9F9F9" height="46.2969" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="137" x="461.5" y="269.7969"/><rect fill="#F9F9F9" height="10" style="stroke:#666666;stroke-width:0.5;" width="15" x="578.5" y="274.7969"/><rect fill="#F9F9F9" height="2" style="stroke:#666666;stroke-width:0.5;" width="4" x="576.5" y="276.7969"/><rect fill="#F9F9F9" height="2" style="stroke:#666666;stroke-width:0.5;" width="4" x="576.5" y="280.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="476.5" y="302.792">Error Handling</text></g><!--MD5=[b3b47143243fa1deeb350c407ecae48b]
entity AUTH--><g id="elem_AUTH"><path d="M925.4894,270.0496 C929.3455,263.834 935.1633,263.4202 939.3773,269.6502 C943.5313,264.2811 947.6119,264.5424 950.9906,270.4487 C954.9095,264.5815 960.6965,264.0095 964.4809,270.5945 C967.3469,264.2398 972.3254,265.2841 975.8236,269.9435 C979.3536,264.0127 984.8908,262.0034 989.65,268.5853 C994.5255,261.7051 999.2463,262.2193 1003.141,269.5185 C1007.4564,263.2008 1011.7981,264.7223 1015.617,270.0504 C1018.2202,263.8794 1023.5078,263.5873 1027.0979,269.0788 C1032.0971,262.593 1036.0845,263.7579 1039.8255,270.3073 C1043.1893,263.6685 1049.9906,262.7278 1053.8672,269.7814 C1058.0993,262.6509 1062.0098,263.8094 1066.6428,269.3781 C1071.47,263.7253 1075.7116,264.7482 1079.167,270.8409 C1084.96,273.4022 1083.9879,277.8754 1079.931,281.1656 C1086.0729,285.208 1086.3275,289.4574 1080.2476,293.8059 C1086.6615,297.8955 1085.7659,302.509 1079.9074,306.2633 C1085.1569,309.7802 1084.6541,313.665 1079.114,316.3317 C1075.4973,323.1694 1070.9497,323.3121 1065.7194,318.1299 C1062.0179,323.4433 1058.5067,324.9903 1054.0709,318.8787 C1050.4887,326.7326 1045.4709,327.3159 1040.1873,320.4876 C1036.9361,327.1013 1030.685,327.9898 1026.7472,321.1748 C1024.1177,327.2995 1018.8145,327.5278 1015.653,321.6672 C1011.315,328.0624 1006.2036,328.7888 1001.1248,322.5167 C997.5159,328.9638 992.9849,328.6315 988.6704,323.2602 C984.1378,327.6412 977.9278,327.6188 975.9222,320.4669 C972.787,326.4188 966.6061,326.1561 963.3688,320.578 C959.9006,326.1251 954.373,326.392 951.353,320.1223 C946.5,325.4676 940.6243,324.5252 938.1104,317.5983 C933.9142,323.2469 928.4853,322.4373 925.6241,316.1963 C919.6745,315.0433 917.7623,311.6462 921.3396,306.3483 C914.8216,304.0416 913.2588,298.7025 917.4026,293.2028 C913.4181,288.4505 915.4024,284.4087 920.9267,282.9132 C916.4356,276.4256 917.9132,272.257 925.4894,270.0496 " fill="#F2F2F2" style="stroke:#999999;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="931.5" y="289.292">Asgardio</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="931.5" y="305.5889">(JWT Authentication)</text></g><!--MD5=[0d42c8bafacfec2526c757bbc5f0a1b1]
entity DB_CLIENT--><g id="elem_DB_CLIENT"><rect fill="#F9F9F9" height="62.5938" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="257" x="634.5" y="261.2969"/><rect fill="#F9F9F9" height="10" style="stroke:#666666;stroke-width:0.5;" width="15" x="871.5" y="266.2969"/><rect fill="#F9F9F9" height="2" style="stroke:#666666;stroke-width:0.5;" width="4" x="869.5" y="268.2969"/><rect fill="#F9F9F9" height="2" style="stroke:#666666;stroke-width:0.5;" width="4" x="869.5" y="272.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="649.5" y="294.292">PostgreSQL Client</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="217" x="649.5" y="310.5889">(Connection Pool, SQL Queries)</text></g><!--MD5=[895070eb9ce9c06a0014a08eba460787]
entity DB_TABLE--><g id="elem_DB_TABLE"><rect fill="#F9F9F9" height="78.8906" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="322" x="602" y="436.2969"/><rect fill="#F9F9F9" height="10" style="stroke:#666666;stroke-width:0.5;" width="15" x="904" y="441.2969"/><rect fill="#F9F9F9" height="2" style="stroke:#666666;stroke-width:0.5;" width="4" x="902" y="443.2969"/><rect fill="#F9F9F9" height="2" style="stroke:#666666;stroke-width:0.5;" width="4" x="902" y="447.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="617" y="469.292">Project Table</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="617" y="485.5889">(projectId, email, title,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="282" x="617" y="501.8857">projectType, isShared, blockLayout JSON)</text></g><path d="M1031.8743,167.8831 C1020.091,174.5133 1009.4724,183.1223 1002,194.2969 C989.0146,213.7159 989.7385,240.5311 993.1648,261.1256 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="993.1648,261.1256,995.6335,251.5912,992.3442,256.1934,987.742,252.9041,993.1648,261.1256" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="1003" y="207.3638">Login / Signup</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="1010" y="222.4966">(JWT Issued)</text><path d="M1057.6261,261.2133 C1071.181,251.5944 1084.4699,239.8749 1094,226.2969 C1106.1521,208.9831 1111.5989,185.2347 1114.036,168.0226 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1114.036,168.0226,1108.8137,176.3729,1113.335,172.9732,1116.7347,177.4945,1114.036,168.0226" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="1109" y="214.8638">JWT Token</text><path d="M578.8444,176.4033 C618.6106,201.3211 674.4711,236.3238 714.2199,261.2308 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="714.2199,261.2308,708.7173,253.0624,709.9829,258.5759,704.4695,259.8415,714.2199,261.2308" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="655" y="214.8638">SQL Queries</text><path d="M763,324.5011 C763,355.2632 763,402.7095 763,436.0459 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="763,436.0459,767,427.0459,763,431.0459,759,427.0459,763,436.0459" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="764" y="355.3638">Read/Write Project Data</text><path d="M530,176.4033 C530,204.3313 530,244.928 530,269.7799 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="530,269.7799,534,260.7799,530,264.7799,526,260.7799,530,269.7799" style="stroke:#181818;stroke-width:1.0;"/><path d="M971.9511,260.8905 C952.3386,241.8226 924.6876,219.3597 895,209.0469 C829.9256,186.4415 341.54,191.2112 275,209.0469 C229.0897,221.3529 182.6769,252.1016 155.1303,272.7158 " fill="none" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><path d="M763,515.4293 C763,530.8002 763,547.3524 763,558.1022 " fill="none" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><!--MD5=[80ed61b1c91e2c3ac0de0af3519f745c]
@startuml
!pragma layout smetana
allowmixing
title Ballerina API Builder Platform - Architecture Diagram 

skinparam rectangle {
  BackgroundColor #EEF6FB
  BorderColor #1E90FF
  RoundCorner 15
}

skinparam database {
  BackgroundColor #FFF5E6
  BorderColor #FF8C00
}

skinparam cloud {
  BackgroundColor #F2F2F2
  BorderColor #999999
}

skinparam component {
  BackgroundColor #F9F9F9
  BorderColor #666666
}

skinparam shadowing false

' =========================
' LAYERS
' =========================

package "Client Layer (Browser)\n" {
  component "Frontend (React + Vite)" as FE {
    component "Authentication Module" as FE_AUTH
    component "Project Management" as FE_PM
    component "Visual API Builder" as FE_API
  }
}

package "Application Layer (Ballerina Backend)" {
  component "Ballerina Service\n" as BE {
    component "HTTP REST API\n/api/projects" as BE_API
    component "CORS Middleware" as BE_CORS
    component "Error Handling" as BE_ERR
  }
}

package "Security & Auth" {
  cloud "Asgardio\n(JWT Authentication)" as AUTH
}

package "Data Access Layer" {
  component "PostgreSQL Client\n(Connection Pool, SQL Queries)" as DB_CLIENT
}

package "Storage Layer" {
  database "PostgreSQL DB" as DB {
    component "Project Table\n(projectId, email, title,\nprojectType, isShared, blockLayout JSON)" as DB_TABLE
  }
}

' =========================
' RELATIONSHIPS
' =========================

FE_AUTH - -> AUTH : "Login / Signup\n(JWT Issued)"
AUTH - -> FE_AUTH : "JWT Token"

FE - -> BE_API : "REST API Calls\n(Projects CRUD → JSON Data)"
BE_API - -> DB_CLIENT : "SQL Queries"
DB_CLIENT - -> DB_TABLE : "Read/Write Project Data"

FE - -> BE_CORS
BE_API - -> BE_ERR

note right of AUTH
  Authentication handled by Asgardio
  Only user email saved in DB
end note

note bottom of DB_TABLE
  JSON column stores visual API builder layout
end note
@enduml

@startuml
!pragma layout smetana
allowmixing
title Ballerina API Builder Platform - Architecture Diagram 

skinparam rectangle {
  BackgroundColor #EEF6FB
  BorderColor #1E90FF
  RoundCorner 15
}

skinparam database {
  BackgroundColor #FFF5E6
  BorderColor #FF8C00
}

skinparam cloud {
  BackgroundColor #F2F2F2
  BorderColor #999999
}

skinparam component {
  BackgroundColor #F9F9F9
  BorderColor #666666
}

skinparam shadowing false


package "Client Layer (Browser)\n" {
  component "Frontend (React + Vite)" as FE {
    component "Authentication Module" as FE_AUTH
    component "Project Management" as FE_PM
    component "Visual API Builder" as FE_API
  }
}

package "Application Layer (Ballerina Backend)" {
  component "Ballerina Service\n" as BE {
    component "HTTP REST API\n/api/projects" as BE_API
    component "CORS Middleware" as BE_CORS
    component "Error Handling" as BE_ERR
  }
}

package "Security & Auth" {
  cloud "Asgardio\n(JWT Authentication)" as AUTH
}

package "Data Access Layer" {
  component "PostgreSQL Client\n(Connection Pool, SQL Queries)" as DB_CLIENT
}

package "Storage Layer" {
  database "PostgreSQL DB" as DB {
    component "Project Table\n(projectId, email, title,\nprojectType, isShared, blockLayout JSON)" as DB_TABLE
  }
}


FE_AUTH - -> AUTH : "Login / Signup\n(JWT Issued)"
AUTH - -> FE_AUTH : "JWT Token"

FE - -> BE_API : "REST API Calls\n(Projects CRUD → JSON Data)"
BE_API - -> DB_CLIENT : "SQL Queries"
DB_CLIENT - -> DB_TABLE : "Read/Write Project Data"

FE - -> BE_CORS
BE_API - -> BE_ERR

note right of AUTH
  Authentication handled by Asgardio
  Only user email saved in DB
end note

note bottom of DB_TABLE
  JSON column stores visual API builder layout
end note
@enduml

PlantUML version 1.2022.7(Mon Aug 22 17:01:30 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>